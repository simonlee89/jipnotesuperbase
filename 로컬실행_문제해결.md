# 🏠 집노트 로컬 실행 문제 해결 가이드

## 🚀 빠른 시작

### Windows 사용자
```bash
# 배치 파일 실행 (더블클릭 또는 명령어)
run_local.bat

# 또는 직접 실행
python run_local.py
```

### Linux/Mac 사용자
```bash
# 셸 스크립트 실행
chmod +x run_local.sh
./run_local.sh

# 또는 직접 실행
python3 run_local.py
```

## 🔑 테스트 계정

| 역할 | 아이디 | 비밀번호 |
|------|--------|----------|
| 관리자 | admin | ejxkqdnjs1emd |
| 직원 | 원형 | 1 |
| 팀장 | 수정 | 1 |

## 🌐 접속 주소

- **메인 페이지**: http://localhost:5000
- **관리자 패널**: http://localhost:5000/admin
- **직원 대시보드**: http://localhost:5000/dashboard
- **팀장 패널**: http://localhost:5000/team-leader

## ❌ 자주 발생하는 문제

### 1. 포트 사용 중 오류
```
❌ 서버 시작 실패: [Errno 98] Address already in use
```

**해결 방법:**
```bash
# Windows
netstat -ano | findstr :5000
taskkill /PID <프로세스ID> /F

# Linux/Mac
lsof -i :5000
kill -9 <프로세스ID>
```

### 2. Supabase 연결 오류
```
❌ Supabase 초기화 실패: ...
```

**해결 방법:**
- 인터넷 연결 확인
- 방화벽 설정 확인
- Supabase 프로젝트 상태 확인

### 3. 모듈 import 오류
```
ModuleNotFoundError: No module named 'supabase'
```

**해결 방법:**
```bash
pip install -r requirements.txt
```

### 4. 권한 오류 (Linux/Mac)
```
Permission denied: run_local.sh
```

**해결 방법:**
```bash
chmod +x run_local.sh
```

## 🔧 수동 환경변수 설정

### Windows (PowerShell)
```powershell
$env:SUPABASE_URL="https://gkoohafmugtqwtustbrp.supabase.co"
$env:SUPABASE_KEY="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imdrb29oYWZtdWd0cXd0dXN0YnJwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUzMzUwNTMsImV4cCI6MjA3MDkxMTA1M30.nREE7LgpxGUUA__GuzryUx2t_F4mwVtto0bPTFOqEFk"
$env:FLASK_ENV="development"
python 관리자페이지.py
```

### Linux/Mac
```bash
export SUPABASE_URL="https://gkoohafmugtqwtustbrp.supabase.co"
export SUPABASE_KEY="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imdrb29oYWZtdWd0cXd0dXN0YnJwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUzMzUwNTMsImV4cCI6MjA3MDkxMTA1M30.nREE7LgpxGUUA__GuzryUx2t_F4mwVtto0bPTFOqEFk"
export FLASK_ENV="development"
python3 관리자페이지.py
```

## 📱 브라우저 접속 확인

1. **브라우저에서 http://localhost:5000 접속**
2. **로그인 페이지가 정상적으로 표시되는지 확인**
3. **테스트 계정으로 로그인 시도**
4. **로그인 후 리다이렉트가 정상적으로 작동하는지 확인**

## 🐛 디버깅 모드

Flask 디버그 모드가 활성화되어 있어서:
- 코드 변경 시 자동으로 서버 재시작
- 상세한 오류 메시지 표시
- 브라우저에서 오류 발생 시 디버거 표시

## 📞 문제가 지속되는 경우

1. **터미널/콘솔의 오류 메시지 확인**
2. **브라우저 개발자 도구의 콘솔 오류 확인**
3. **네트워크 탭에서 API 요청/응답 확인**
4. **Supabase 대시보드에서 연결 상태 확인**

## 🔄 대안 실행 방법

### 방법 1: 직접 실행
```bash
python 관리자페이지.py
```

### 방법 2: Flask CLI 사용
```bash
set FLASK_APP=관리자페이지.py
set FLASK_ENV=development
flask run --host=0.0.0.0 --port=5000
```

### 방법 3: Python 모듈로 실행
```bash
python -m flask --app 관리자페이지 run --host=0.0.0.0 --port=5000
```
