# 팀장 페이지 기능 정리

## 개요
팀장 페이지는 팀장이 개인 업무와 팀 전체 업무를 효율적으로 관리할 수 있도록 설계되었습니다.

## 기능 구분

### 1. 팀장 고객관리 (개인용)
- **목적**: 팀장 본인의 고객만 관리
- **범위**: 팀장이 직접 등록한 고객만 표시
- **API 엔드포인트**: `/api/team-leader/customers`
- **특징**: 
  - 팀원의 고객은 포함하지 않음
  - 개인 업무 현황 파악
  - 개인 고객 관리 및 추적

### 2. 팀장 메이플관리 (개인용)
- **목적**: 팀장 본인의 매물만 관리
- **범위**: 팀장이 직접 등록한 매물만 표시
- **API 엔드포인트**: `/api/team-leader/maeiple`
- **특징**:
  - 팀원의 매물은 포함하지 않음
  - 개인 매물 현황 파악
  - 개인 매물 관리 및 추적

### 3. 고객관리 (팀 통합용)
- **목적**: 팀장과 팀원의 고객을 모두 연결하여 관리
- **범위**: 팀 전체의 고객 현황 표시
- **API 엔드포인트**: `/api/team-leader/team-customers`
- **특징**:
  - 팀장 + 팀원 고객 통합 관리
  - 팀 전체 고객 현황 파악
  - 팀 성과 및 업무 분담 현황 확인

### 4. 메이플관리 (팀 통합용)
- **목적**: 팀장과 팀원의 매물을 모두 연결하여 관리
- **범위**: 팀 전체의 매물 현황 표시
- **API 엔드포인트**: `/api/team-leader/team-maeiple`
- **특징**:
  - 팀장 + 팀원 매물 통합 관리
  - 팀 전체 매물 현황 파악
  - 팀 성과 및 업무 분담 현황 확인

## API 응답 구조

### 개인용 API 응답
```json
{
  "customers": [...],  // 또는 "properties": [...]
  "total_count": 10,
  "page": 1,
  "per_page": 20,
  "total_pages": 1,
  "type": "personal"  // 개인용임을 명시
}
```

### 팀 통합용 API 응답
```json
{
  "customers": [...],  // 또는 "properties": [...]
  "total_count": 25,
  "page": 1,
  "per_page": 20,
  "total_pages": 2,
  "type": "team"  // 팀 통합용임을 명시
}
```

## 사용 시나리오

### 시나리오 1: 개인 업무 관리
- 팀장이 본인의 고객과 매물 현황을 파악할 때
- 개인 성과를 점검할 때
- 개인 업무 계획을 수립할 때

### 시나리오 2: 팀 전체 관리
- 팀 전체의 고객과 매물 현황을 파악할 때
- 팀원들의 업무 현황을 점검할 때
- 팀 성과를 분석할 때
- 팀 업무 분담을 조정할 때

## 권한 관리
- **접근 권한**: 팀장(`employee_role = '팀장'`) 또는 관리자만 접근 가능
- **데이터 접근**: 
  - 개인용: 본인의 데이터만 접근
  - 팀 통합용: 팀 전체의 데이터 접근

## 프론트엔드 연동
프론트엔드에서는 각 기능에 맞는 API를 호출하여 사용자에게 적절한 데이터를 제공해야 합니다:

1. **개인 고객관리**: `/api/team-leader/customers`
2. **개인 메이플관리**: `/api/team-leader/maeiple`
3. **팀 통합 고객관리**: `/api/team-leader/team-customers`
4. **팀 통합 메이플관리**: `/api/team-leader/team-maeiple`

## 테스트 모드 지원
- `DATABASE_URL`이 설정되지 않은 경우 샘플 데이터로 테스트 가능
- 각 API별로 적절한 샘플 데이터 제공
- 실제 데이터베이스 연결 없이도 기능 테스트 가능
